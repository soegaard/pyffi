<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5&nbsp;An introduction to pyffi</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">pyffi -<wbr></wbr> Use Python from Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="introduction.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="release-information.html" class="tocviewlink" data-pltdoc="x">Release Information</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="supported-platforms.html" class="tocviewlink" data-pltdoc="x">Supported Platforms</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="installation.html" class="tocviewlink" data-pltdoc="x">Installation</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">An introduction to <span class="stt">pyffi</span></a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Initialization_of_the_Python_Interpreter.html" class="tocviewlink" data-pltdoc="x">Initialization of the Python Interpreter</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Evaluation.html" class="tocviewlink" data-pltdoc="x">Evaluation</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Datatypes.html" class="tocviewlink" data-pltdoc="x">Datatypes</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>5&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">An introduction to <span class="stt">pyffi</span></a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">5.1&nbsp;</td><td><a href="#%28part._.Atomic_values__numbers__.Booleans_and_.None%29" class="tocviewlink" data-pltdoc="x">Atomic values:<span class="mywbr"> &nbsp;</span> numbers, Booleans and <span class="stt">None</span></a></td></tr><tr><td align="right">5.2&nbsp;</td><td><a href="#%28part._.Compound_.Values__strings__tuples__lists__and__dictionaries%29" class="tocviewlink" data-pltdoc="x">Compound Values:<span class="mywbr"> &nbsp;</span> strings, tuples, lists, and, dictionaries</a></td></tr><tr><td align="right">5.3&nbsp;</td><td><a href="#%28part._.Builtin_functions_and_modules%29" class="tocviewlink" data-pltdoc="x">Builtin functions and modules</a></td></tr><tr><td align="right">5.4&nbsp;</td><td><a href="#%28part._.Objects__.Callable_objects__.Functions__.Methods_and_.Properties%29" class="tocviewlink" data-pltdoc="x">Objects, Callable objects, Functions, Methods and Properties</a></td></tr><tr><td align="right">5.5&nbsp;</td><td><a href="#%28part._.Exceptions%29" class="tocviewlink" data-pltdoc="x">Exceptions</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">5.1<tt>&nbsp;</tt></span><a href="#%28part._.Atomic_values__numbers__.Booleans_and_.None%29" class="tocsubseclink" data-pltdoc="x">Atomic values:<span class="mywbr"> &nbsp;</span> numbers, Booleans and <span class="stt">None</span></a></td></tr><tr><td><span class="tocsublinknumber">5.2<tt>&nbsp;</tt></span><a href="#%28part._.Compound_.Values__strings__tuples__lists__and__dictionaries%29" class="tocsubseclink" data-pltdoc="x">Compound Values:<span class="mywbr"> &nbsp;</span> strings, tuples, lists, and, dictionaries</a></td></tr><tr><td><span class="tocsublinknumber">5.3<tt>&nbsp;</tt></span><a href="#%28part._.Builtin_functions_and_modules%29" class="tocsubseclink" data-pltdoc="x">Builtin functions and modules</a></td></tr><tr><td><span class="tocsublinknumber">5.4<tt>&nbsp;</tt></span><a href="#%28part._.Objects__.Callable_objects__.Functions__.Methods_and_.Properties%29" class="tocsubseclink" data-pltdoc="x">Objects, Callable objects, Functions, Methods and Properties</a></td></tr><tr><td><span class="tocsublinknumber">5.5<tt>&nbsp;</tt></span><a href="#%28part._.Exceptions%29" class="tocsubseclink" data-pltdoc="x">Exceptions</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="installation.html" title="backward to &quot;4 Installation&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;pyffi - Use Python from Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Initialization_of_the_Python_Interpreter.html" title="forward to &quot;6 Initialization of the Python Interpreter&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>5<tt>&nbsp;</tt><a name="(part._.An_introduction_to_pyffi)"></a>An introduction to <span class="stt">pyffi</span></h3><p>The <span class="stt">pyffi</span> library makes it possible to use Python libraries from a Racket program.</p><p>A Racket program can start a Python process by requiring <span class="RktSym">pyffi</span> and calling
<span class="RktSym"><a href="Initialization_of_the_Python_Interpreter.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._initialize%29%29" class="RktValLink" data-pltdoc="x">initialize</a></span>. After the initialization <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span> and <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%2A%29%29" class="RktValLink" data-pltdoc="x">run*</a></span> can
be used to evaluate expressions and statements in the Python process.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">pyffi</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Initialization_of_the_Python_Interpreter.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._initialize%29%29" class="RktValLink" data-pltdoc="x">initialize</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Initialization_of_the_Python_Interpreter.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._post-initialize%29%29" class="RktValLink" data-pltdoc="x">post-initialize</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"1+2"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote><p>Here Racket starts an embed Python process.
The Python "1+2" is parsed, compiled and evaluated by Python.
The resulting Python value 3 is then converted to the Racket value 3.</p><h4>5.1<tt>&nbsp;</tt><a name="(part._.Atomic_values__numbers__.Booleans_and_.None)"></a>Atomic values: numbers, Booleans and <span class="stt">None</span></h4><p>Atomic Python values (numbers, Booleans and None) are automatically converted
to their corresponding Racket values.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktSym">pyffi</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Initialization_of_the_Python_Interpreter.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._initialize%29%29" class="RktValLink" data-pltdoc="x">initialize</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Initialization_of_the_Python_Interpreter.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._post-initialize%29%29" class="RktValLink" data-pltdoc="x">post-initialize</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"12"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">12</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"34."</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">34.0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"5+6j"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">5.0+6.0i</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"False"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"True"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"None"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#&lt;void&gt;)</span></p></td></tr></table></blockquote><h4>5.2<tt>&nbsp;</tt><a name="(part._.Compound_.Values__strings__tuples__lists__and__dictionaries)"></a>Compound Values: strings, tuples, lists, and, dictionaries</h4><p>Compound (non-atomic) Python values such as strings, tuples, lists and dicts are not converted
to Racket values. Instead they are wrapped in a struct named <span class="RktSym"><span class="badlink"><span class="RktValLink">obj</span></span></span>.
Due to a custom printer handler these wrapped values print nicely.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"'Hello World'"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "str" : 'Hello World')</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(1,2,3)"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "tuple" : (1, 2, 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"[1,2,3]"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "list" : [1, 2, 3])</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"{'a': 1, 'b': 2}"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "dict" : {'a': 1, 'b': 2})</span></p></td></tr></table></blockquote><p>The values display nicely too:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"'Hello World'"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">Hello World</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(1,2,3)"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">(1, 2, 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"[1,2,3]"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">[1, 2, 3]</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"{'a': 1, 'b': 2}"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">{'a': 1, 'b': 2}</span></p></td></tr></table></blockquote><p>Printing and displaying a Python object use the
<a href="https://docs.python.org/3/search.html?q=object.__repr__">__repr__</a> and <a href="https://docs.python.org/3/search.html?q=object.__str__">__str__</a>
methods of the object respectively.</p><p>The idea is that Racket gains four new data types: <span class="stt">pystring</span>, <span class="stt">pytuple</span>,
<span class="stt">pylist</span> and <span class="stt">pydict</span>.</p><p>To convert a compound value use <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pystring-~3estring%29%29" class="RktValLink" data-pltdoc="x">pystring-&gt;string</a></span>, <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pytuple-~3evector%29%29" class="RktValLink" data-pltdoc="x">pytuple-&gt;vector</a></span>,
<span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pylist-~3elist%29%29" class="RktValLink" data-pltdoc="x">pylist-&gt;list</a></span> or <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pydict-~3ehash%29%29" class="RktValLink" data-pltdoc="x">pydict-&gt;hash</a></span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pystring-~3estring%29%29" class="RktValLink" data-pltdoc="x">pystring-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"'Hello World'"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Hello World"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pytuple-~3evector%29%29" class="RktValLink" data-pltdoc="x">pytuple-&gt;vector</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(1,2,3)"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pylist-~3elist%29%29" class="RktValLink" data-pltdoc="x">pylist-&gt;list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"[1,2,3]"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pydict-~3ehash%29%29" class="RktValLink" data-pltdoc="x">pydict-&gt;hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"{'a': 1, 'b': 2}"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'#hash(("a" . 1) ("b" . 2))</span></p></td></tr></table></blockquote><p>Similarly, you can convert Racket values to Python ones.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._string-~3epystring%29%29" class="RktValLink" data-pltdoc="x">string-&gt;pystring</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello World"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "str" : 'Hello World')</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._vector-~3epytuple%29%29" class="RktValLink" data-pltdoc="x">vector-&gt;pytuple</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "tuple" : (1, 2, 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._list-~3epylist%29%29" class="RktValLink" data-pltdoc="x">list-&gt;pylist</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "list" : [1, 2, 3])</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._hash-~3epydict%29%29" class="RktValLink" data-pltdoc="x">hash-&gt;pydict</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hash</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "dict" : {'b': 2, 'a': 1})</span></p></td></tr></table></blockquote><p>It&rsquo;s important to note that creating Python values using
<span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._string-~3epystring%29%29" class="RktValLink" data-pltdoc="x">string-&gt;pystring</a></span>, <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._vector-~3epytuple%29%29" class="RktValLink" data-pltdoc="x">vector-&gt;pytuple</a></span>, <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._list-~3epylist%29%29" class="RktValLink" data-pltdoc="x">list-&gt;pylist</a></span>
and <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._hash-~3epydict%29%29" class="RktValLink" data-pltdoc="x">hash-&gt;pydict</a></span> is much more efficient than using <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span>.
The overhead of <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span> is due to the parsing and compiling of its input string.
In contrast <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._string-~3epystring%29%29" class="RktValLink" data-pltdoc="x">string-&gt;pystring</a></span> and friends use the C API to create the
Python values directly.</p><p>The data types have also have constructors:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pystring%29%29" class="RktValLink" data-pltdoc="x">pystring</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#\H</span><span class="hspace">&nbsp;</span><span class="RktVal">#\e</span><span class="hspace">&nbsp;</span><span class="RktVal">#\l</span><span class="hspace">&nbsp;</span><span class="RktVal">#\l</span><span class="hspace">&nbsp;</span><span class="RktVal">#\o</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "str" : 'Hello')</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pytuple%29%29" class="RktValLink" data-pltdoc="x">pytuple</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "tuple" : (1, 2, 3))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pylist%29%29" class="RktValLink" data-pltdoc="x">pylist</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "list" : [1, 2, 3])</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pydict%29%29" class="RktValLink" data-pltdoc="x">pydict</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "dict" : {'a': 1, 'b': 2})</span></p></td></tr></table></blockquote><p>The new types <span class="stt">pystring</span>, <span class="stt">pytuple</span>, <span class="stt">pylist</span> and <span class="stt">pydict</span> can be used with <span class="RktSym">for</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">for/list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._in-pystring%29%29" class="RktValLink" data-pltdoc="x">in-pystring</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._string-~3epystring%29%29" class="RktValLink" data-pltdoc="x">string-&gt;pystring</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(#\H #\e #\l #\l #\o)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">for/list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._in-pytuple%29%29" class="RktValLink" data-pltdoc="x">in-pytuple</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._vector-~3epytuple%29%29" class="RktValLink" data-pltdoc="x">vector-&gt;pytuple</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">for/list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._in-pylist%29%29" class="RktValLink" data-pltdoc="x">in-pylist</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._list-~3epylist%29%29" class="RktValLink" data-pltdoc="x">list-&gt;pylist</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">for/list</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._in-pydict%29%29" class="RktValLink" data-pltdoc="x">in-pydict</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._hash-~3epydict%29%29" class="RktValLink" data-pltdoc="x">hash-&gt;pydict</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hash</span><span class="hspace">&nbsp;</span><span class="RktVal">"a"</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">"b"</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">list</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(((obj "str" : 'b') 2) ((obj "str" : 'a') 1))</span></p></td></tr></table></blockquote><h4>5.3<tt>&nbsp;</tt><a name="(part._.Builtin_functions_and_modules)"></a>Builtin functions and modules</h4><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Use <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span> for expressions and <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%2A%29%29" class="RktValLink" data-pltdoc="x">run*</a></span> for statements.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The previous sections showed how to evaluate expressions using the Python interpreter.
Now we will look at statements.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%2A%29%29" class="RktValLink" data-pltdoc="x">run*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"x = 1+2"</span><span class="RktPn">)</span></td></tr></table></blockquote><p>Here the statement <span class="stt">x = 1+2</span> is parsed, compiled and executed.
The result of the expression <span class="stt">1+2</span> is stored in the global variable <span class="stt">x</span>.</p><p><div class="SIntrapara">To retrieve the value of the Python variable <span class="stt">x</span> we could use <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span>:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"x"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote></div></p><p>But due to the overhead of <span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span> it is better to make a direct
variable reference.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">main.x</span></td></tr><tr><td><p><span class="RktRes">3</span></p></td></tr></table></blockquote><p>Here <span class="stt">main</span> is the name we have given to the module used for the
global namespace of the Python interpreter. The dotted identifier <span class="stt">main.x</span>
thus references the variable <span class="stt">x</span> in the global namespace.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The import is done with <br/> <span class="stt">import builtins</span></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">In a standard Python interpreter nothing is imported when the interpreter
is started, but with <span class="RktSym">pyffi</span> the module <a href="https://docs.python.org/3/search.html?q=builtins">builtins</a>
is imported at startup.</div></p><p>Since Python modules are first class values, we can see their printed
representations:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym"><span class="badlink"><span class="RktValLink">main</span></span></span></td></tr><tr><td><p><span class="RktRes">(obj "module" : &lt;module '__main__' (built-in)&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins</span></span></span></td></tr><tr><td><p><span class="RktRes">(obj "module" : &lt;module 'builtins' (built-in)&gt;)</span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Table of <a href="https://docs.python.org/3/library/functions.html">Built-in functions</a></p></blockquote></blockquote></blockquote></div><div class="SIntrapara">The module <span class="stt">builtins</span> is also how we access the built-in Python functions.</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">builtins.abs</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-7</span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">7</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins.list</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "list" : ['H', 'e', 'l', 'l', 'o'])</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins.range</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "range" : range(2, 5))</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins.list</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins.range</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "list" : [2, 3, 4])</span></p></td></tr></table></blockquote><p>If you find the name <span class="stt">builtins</span> too long, then you can give it a new, shorter name.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">builtins</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">b.abs</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-7</span></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">7</span></p></td></tr></table></blockquote><p>If you access the <span class="stt">abs</span> functions directly, you get a callable object:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">b.abs</span></td></tr><tr><td><p><span class="RktRes">(obj callable "builtin_function_or_method" : &lt;built-in function abs&gt;)</span></p></td></tr></table></blockquote><p>A callable object can be used just like a normal Racket function:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">map</span><span class="hspace">&nbsp;</span><span class="RktSym">b.abs</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-2</span></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-4</span></span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'(1 2 3 4)</span></p></td></tr></table></blockquote><p>To use functions from the Python standard library, you need to import it before
you can use it. The standard library <a href="https://docs.python.org/3/search.html?q=sys">sys</a> provide
a lot of system information. Let&rsquo;s use it to find the version of the Python interpreter.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">import</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">sys</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">sys.version_info</span></td></tr><tr><td><p><span class="RktRes">(obj "version_info" : sys.version_info(major=3, minor=10, micro=7, releaselevel='final', serial=0))</span></p></td></tr></table></blockquote><p>The list of modules in
<a href="https://docs.python.org/3/library/index.html">The Python Standard Library</a>
is long, so let&rsquo;s just try one more.</p><p>We want to print a text calendar for the current month.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Documentation for <a href="https://docs.python.org/3/library/calendar.html"><span class="stt">calendar</span></a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">import</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">calendar</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">calendar.TextCalendar</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "TextCalendar" : &lt;calendar.TextCalendar object at 0x7fb02d8a6050&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">calendar.TextCalendar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">.formatmonth</span><span class="hspace">&nbsp;</span><span class="RktVal">2022</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">July 2022</span></p></td></tr><tr><td><p><span class="RktOut">Mo Tu We Th Fr Sa Su</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">3</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut">4</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">5</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">6</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">7</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">8</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">9 10</span></p></td></tr><tr><td><p><span class="RktOut">11 12 13 14 15 16 17</span></p></td></tr><tr><td><p><span class="RktOut">18 19 20 21 22 23 24</span></p></td></tr><tr><td><p><span class="RktOut">25 26 27 28 29 30 31</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr></table></td></tr></table></blockquote></div></p><p>The expression <span class="stt">(calendar.TextCalendar)</span> instantiates a <span class="stt">TextCalendar</span> object.
The syntax <span class="stt">(object .method arg ...)</span> is used to invoke the method <span class="stt">formatmonth</span>
with the arguments 2022 and 7 (for July).</p><p>The documentation for <span class="stt">formatmonth</span> shows its signature:</p><blockquote class="SCentered"><p><span class="stt">formatmonth(theyear, themonth, w=0, l=0)</span></p></blockquote><p>The two first arguments <span class="stt">theyear</span> and <span class="stt">themonth</span> are postional arguments
and the two last arguments <span class="stt">w</span> and <span class="stt">l</span> are keyword arguments both has
0 has as default value.</p><p>The keyword argument <span class="stt">w</span> specifies the width of the date columns.
We can get full names of the week days with a width of 9.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">calendar.TextCalendar</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">.formatmonth</span><span class="hspace">&nbsp;</span><span class="RktVal">2022</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktPn">#:w</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">July 2022</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Monday </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Tuesday</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Wednesday</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Thursday </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Friday </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Saturday </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Sunday</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">1 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">2 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">3</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">4 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">5 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">6 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">7 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">8 </span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">9</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">10</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">11</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">12</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">13</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">14</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">15</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">16</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">17</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">18</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">19</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">20</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">21</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">22</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">23</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">24</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">25</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">26</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">27</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">28</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">29</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">30</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">31</span></p></td></tr><tr><td><p><span class="RktOut"></span></p></td></tr></table></td></tr></table></blockquote><h4>5.4<tt>&nbsp;</tt><a name="(part._.Objects__.Callable_objects__.Functions__.Methods_and_.Properties)"></a>Objects, Callable objects, Functions, Methods and Properties</h4><p>All values in Python are represented as <span class="emph">objects</span>. This differs from Racket,
where most data types (e.g. numbers and strings) aren&rsquo;t objects.</p><p>In the data model used by Python, all objects have an identity, a type and a value.
In practice the identity of a Python object is represented by its address in memory
[the CPython implementation never moves objects].</p><p>To represent a Python object in Racket it is wrapped in an <span class="RktSym"><span class="badlink"><span class="RktValLink">obj</span></span></span> struct.
The structure contains the type name as a string and a pointer to the object.
The wrapper set the struct property <span class="RktSym">gen:custom-write</span> to
display, write and print the wrapped objects nicely.</p><p>The result of <span class="stt">repr()</span> is used to write an object. <br/>
The result of <span class="stt">str()</span> is used to display an object.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._string-~3epystring%29%29" class="RktValLink" data-pltdoc="x">string-&gt;pystring</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"foo"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">repr</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"'foo'"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">writeln</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">(obj "str" : 'foo')</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">str</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"foo"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">foo</span></p></td></tr></table></blockquote><p>Functions and in general <span class="emph">callable objects</span> support the well-known
syntax <span class="stt">f(a,b,c)</span>. Such callable objects are wrapped in an <span class="RktSym"><span class="badlink"><span class="RktValLink">callable-obj</span></span></span>
struct, which has <span class="RktSym"><span class="badlink"><span class="RktValLink">obj</span></span></span> as a super type. The <span class="RktSym"><span class="badlink"><span class="RktValLink">callable-obj</span></span></span>
use the struct property <span class="RktSym">prop:procedure</span> to make the wrapper applicable.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%2A%29%29" class="RktValLink" data-pltdoc="x">run*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"def f(x): return x+1"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">main.f</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">f</span></td></tr><tr><td><p><span class="RktRes">(obj callable "function" : &lt;function f at 0x7fb02da43d90&gt;)</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktVal">41</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">42</span></p></td></tr></table></blockquote><p>Function calls with keywords work as expected. A Python keyword
is simply prefixed with <span class="stt">#:</span> to turn it into a Racket keyword,
as this example shows:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%2A%29%29" class="RktValLink" data-pltdoc="x">run*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"def hello(name, title='Mr'): return 'Hello ' + title + ' ' + name"</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">main.hello</span><span class="hspace">&nbsp;</span><span class="RktVal">"Foo"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">Hello Mr Foo</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">main.hello</span><span class="hspace">&nbsp;</span><span class="RktPn">#:title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Mrs"</span><span class="hspace">&nbsp;</span><span class="RktVal">"Bar"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">Hello Mrs Bar</span></p></td></tr></table></blockquote><p>In order to illustrate methods, let&rsquo;s look at the <span class="stt">Calendar</span> class in
the <span class="stt">calendar</span> module.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">import</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">calendar</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">calendar.Calendar</span></td></tr><tr><td><p><span class="RktRes">(obj callable "type" : &lt;class 'calendar.Calendar'&gt;)</span></p></td></tr></table></blockquote><p>Calling the class gives us an instance object. We pass 0 to make Monday the first
week day.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">calendar.Calendar</span><span class="hspace">&nbsp;</span><span class="RktPn">#:firstweekday</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "Calendar" : &lt;calendar.Calendar object at 0x7fb02d6da3b0&gt;)</span></p></td></tr></table></blockquote><p>One of the methods of a calendar object is <span class="stt">monthdatescalendar</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">cal</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">calendar.Calendar</span><span class="hspace">&nbsp;</span><span class="RktPn">#:firstweekday</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">cal.monthdatescalendar</span></td></tr><tr><td><p><span class="RktRes">(obj callable "method" : &lt;bound method Calendar.monthdatescalendar of &lt;calendar.Calendar object at 0x7fb02d6da770&gt;&gt;)</span></p></td></tr></table></blockquote><p>The syntax <span class="stt">obj.method</span> gives us a <span class="emph">bound method</span>,
which we can call. Bound methods are wrapped in <span class="RktSym"><span class="badlink"><span class="RktValLink">method-obj</span></span></span>
to make them applicable.</p><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The use of <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span> is to reduce the amount of output.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">year</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">2022</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">month</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">9</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cal.monthdatescalendar</span><span class="hspace">&nbsp;</span><span class="RktSym">year</span><span class="hspace">&nbsp;</span><span class="RktSym">month</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "date" : datetime.date(2022, 8, 29))</span></p></td></tr></table></blockquote></div></p><p>However, we can also invoke the <span class="stt">monthdatescalendar</span> method directly
with the help of the syntax <span class="stt">(obj .method argument ...)</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cal</span><span class="hspace">&nbsp;</span><span class="RktSym">.monthdatescalendar</span><span class="hspace">&nbsp;</span><span class="RktSym">year</span><span class="hspace">&nbsp;</span><span class="RktSym">month</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "date" : datetime.date(2022, 8, 29))</span></p></td></tr></table></blockquote><p>Method invocations can be chained. That is, if a method call returns
an object, we can invoke a method on it. The fist element
of a list can be retrieved by the <span class="stt">pop</span> method, so we can replace
the two calls to <span class="RktSym"><a href="Datatypes.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._pyfirst%29%29" class="RktValLink" data-pltdoc="x">pyfirst</a></span> with two invocations of <span class="stt">.pop</span>.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">cal</span><span class="hspace">&nbsp;</span><span class="RktSym">.monthdatescalendar</span><span class="hspace">&nbsp;</span><span class="RktSym">year</span><span class="hspace">&nbsp;</span><span class="RktSym">month</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">.pop</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktSym">.pop</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(obj "date" : datetime.date(2022, 8, 29))</span></p></td></tr></table></blockquote><p>Besides methods an object can have properties (atributes).
The syntax is <span class="stt">obj.attribute</span>. Most Python objects
carry a little documentation in the oddly named <span class="stt">__doc__</span> attribute.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">displayln</span><span class="hspace">&nbsp;</span><span class="RktSym">cal.__doc__</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktOut"></span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">Base calendar class. This class doesn't do any formatting. It simply</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut">provides data to subclasses.</span></p></td></tr><tr><td><p><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktOut"></span></p></td></tr></table></td></tr></table></blockquote><h4>5.5<tt>&nbsp;</tt><a name="(part._.Exceptions)"></a>Exceptions</h4><p>An exception on the Python side is converted to an exception on the Racket side.
The exception will be printed with a full traceback.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Evaluation.html#%28def._%28%28lib._pyffi%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"1/0"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">run: Python exception occurred;</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr">ZeroDivisionError: division by zero</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;</span><span class="RktErr"></span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">File "&lt;string&gt;", line 1, in &lt;module&gt;</span></p></td></tr><tr><td><blockquote class="SubFlow"></blockquote></td></tr></table></blockquote><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="installation.html" title="backward to &quot;4 Installation&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;pyffi - Use Python from Racket&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Initialization_of_the_Python_Interpreter.html" title="forward to &quot;6 Initialization of the Python Interpreter&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>